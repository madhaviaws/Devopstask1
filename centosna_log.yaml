devops@ip-172-31-29-253:~$ ansible-playbook -i inventory centosna.yaml

PLAY [all] *************************************************************************************************************************************************************************************

TASK [Gathering Facts] *************************************************************************************************************************************************************************
ok: [172.31.17.245]
[DEPRECATION WARNING]: Distribution Ubuntu 18.04 on host localhost should use /usr/bin/python3, but is using /usr/bin/python for backward compatibility with prior Ansible releases. A future
Ansible release will default to using the discovered platform python for this host. See https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html for more
information. This feature will be removed in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
ok: [localhost]

TASK [fail for unsupported os] *****************************************************************************************************************************************************************
fatal: [localhost]: FAILED! => {"changed": false, "msg": "This playbook runs only on centos"}
skipping: [172.31.17.245]

TASK [install packages for centos] *************************************************************************************************************************************************************
ok: [172.31.17.245] => (item=gcc)
ok: [172.31.17.245] => (item=glibc)
ok: [172.31.17.245] => (item=glibc-common)
ok: [172.31.17.245] => (item=wget)
ok: [172.31.17.245] => (item=unzip)
ok: [172.31.17.245] => (item=httpd)
ok: [172.31.17.245] => (item=php)
ok: [172.31.17.245] => (item=gd)
ok: [172.31.17.245] => (item=gd-devel)
ok: [172.31.17.245] => (item=perl)
ok: [172.31.17.245] => (item=postfix)
ok: [172.31.17.245] => (item=make)
ok: [172.31.17.245] => (item=gettext)
ok: [172.31.17.245] => (item=automake)
ok: [172.31.17.245] => (item=autoconf)
ok: [172.31.17.245] => (item=openssl-devel)
ok: [172.31.17.245] => (item=net-snmp)
ok: [172.31.17.245] => (item=net-snmp-utils)
ok: [172.31.17.245] => (item=epel-release)
ok: [172.31.17.245] => (item=perl-Net-SNMP)
ok: [172.31.17.245] => (item=python-passlib)

TASK [Download the source to temp folder] ******************************************************************************************************************************************************
ok: [172.31.17.245]

TASK [untar the code] **************************************************************************************************************************************************************************
ok: [172.31.17.245]

TASK [Compile Code] ****************************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [Create User and Group] *******************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [Install Binaries] ************************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [Install Service / Daemon] ****************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [Install Command Mode] ********************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [Install Configuration Files] *************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [Install Apache Config Files] *************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [Create nagiosadmin user account] *********************************************************************************************************************************************************
ok: [172.31.17.245]

TASK [start httpd] *****************************************************************************************************************************************************************************
ok: [172.31.17.245]

TASK [start nagios] ****************************************************************************************************************************************************************************
ok: [172.31.17.245]

TASK [Download the plugin to temp folder] ******************************************************************************************************************************************************
ok: [172.31.17.245]

TASK [untar the plugin code] *******************************************************************************************************************************************************************
ok: [172.31.17.245]

TASK [Compile + Install] ***********************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [restart nagios] **************************************************************************************************************************************************************************
changed: [172.31.17.245]

TASK [restart httpd] ***************************************************************************************************************************************************************************
changed: [172.31.17.245]

PLAY RECAP *************************************************************************************************************************************************************************************
172.31.17.245              : ok=19   changed=10   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0
localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0

devops@ip-172-31-29-253:~$
